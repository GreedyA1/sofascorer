import './polyfills.server.mjs';
import{G as R,I as H,J as N,K as q,L as J,M as L,N as X,O as j,R as O,X as P,a as S,b as l,c as D,d as F,e as I,f as g,g as T,h as r,i as A,j as d,k as x,l as u,m as f,n as v,o as a,p as n,q as w,r as b,s as p,t as $,u as C,v as k,w as h,x as B,y as M,z as V}from"./chunk-ALHIVWOE.mjs";import{a as E,b as y}from"./chunk-VVCT4QZE.mjs";function W(e,i){if(e&1&&(a(0,"div"),p(1),n(),a(2,"div"),p(3),n()),e&2){let t=b().$implicit;r(),k("\u{1FAF0}",t.statisticsItems[0].homeValue," - ",t.statisticsItems[0].awayValue," "),r(2),C(" \u{1FAF0}\u2795: ",t.statisticsItems[0].homeValue+t.statisticsItems[0].awayValue," ")}}function Y(e,i){if(e&1&&d(0,W,4,3),e&2){let t=i.$implicit;x(0,t.groupName==="Expected"?0:-1)}}function Z(e,i){if(e&1&&(a(0,"div",2)(1,"b"),p(2),n(),f(3,Y,1,1,null,null,u),n()),e&2){let t=i.$implicit;r(2),$(t.period),r(),v(t.groups)}}function ee(e,i){if(e&1&&(a(0,"div",0)(1,"div"),p(2),n(),a(3,"b"),p(4),n(),a(5,"div"),p(6),n(),w(7,"div"),a(8,"div",1),f(9,Z,5,1,"div",3,u),n()()),e&2){let t=i.$implicit;r(2),C("\u{1F194} ",t.id,""),r(2),h("",t.homeTeam.name," \u{1F19A} ",t.awayTeam.name," \u{1F3C6} ",t.tournament.name,""),r(2),h("\u26BD ",t.homeScore.current," - ",t.awayScore.current," \u26BD\u2795 SUM = ",t.homeScore.current+t.awayScore.current,""),r(3),v(t.statistics)}}function te(e,i){e&1&&f(0,ee,11,7,"div",4,u),e&2&&v(i)}function ie(e,i){e&1&&(a(0,"div"),p(1,"No live events have Expected goals"),n())}var U=(()=>{let i=class i{constructor(_){this.http=_,this.title="sofascore-notifier",this.liveEvents$=this.http.get("https://api.sofascore.com/api/v1/sport/football/events/live").pipe(l(o=>o.events),g(o=>console.log("ALL EVENTS",o.length)),l(o=>o.filter(s=>s.hasXg)),g(o=>console.log("hasXg",o.length)),I(o=>{let s=o.map(m=>this.http.get(`https://api.sofascore.com/api/v1/event/${m.id}/statistics`).pipe(l(c=>c.statistics),F(c=>S([]))));return D(s).pipe(l(m=>o.map((c,Q)=>y(E({},c),{statistics:m[Q]}))))}))}};i.\u0275fac=function(o){return new(o||i)(A(q))},i.\u0275cmp=T({type:i,selectors:[["app-root"]],standalone:!0,features:[B],decls:3,vars:3,consts:[[2,"background-color","lightcyan","padding","2rem","margin","2rem","border","2px solid red"],[2,"display","flex","flex-wrap","wrap"],[2,"margin","10px"],["style","margin: 10px"],["style","background-color: lightcyan; padding:2rem; margin: 2rem; border: 2px solid red;"]],template:function(o,s){if(o&1&&(d(0,te,2,0),M(1,"async"),d(2,ie,2,0)),o&2){let m;x(0,(m=V(1,1,s.liveEvents$))?0:2,m)}},dependencies:[N,H]});let e=i;return e})();var z=[];var G={providers:[P(z),j(),J(L())]};var oe={providers:[O()]},K=R(G,oe);var ne=()=>X(U,K),Fe=ne;export{Fe as a};
